<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="generator" content="VNote">

    <title>20240702第二节课</title>

    <style type="text/css">
    div.code-toolbar > div.toolbar {
    display: none;
}

    </style>

    <style type="text/css">
    *,
*::before,
*::after {
  box-sizing: border-box;
}

.container-fluid {
    width: 100%;
    padding-right: 15px;
    padding-left: 15px;
    margin-right: auto;
    margin-left: auto;
}

.col, .col-1, .col-10, .col-11, .col-12, .col-2, .col-3, .col-4, .col-5, .col-6, .col-7, .col-8, .col-9, .col-auto, .col-lg, .col-lg-1, .col-lg-10, .col-lg-11, .col-lg-12, .col-lg-2, .col-lg-3, .col-lg-4, .col-lg-5, .col-lg-6, .col-lg-7, .col-lg-8, .col-lg-9, .col-lg-auto, .col-md, .col-md-1, .col-md-10, .col-md-11, .col-md-12, .col-md-2, .col-md-3, .col-md-4, .col-md-5, .col-md-6, .col-md-7, .col-md-8, .col-md-9, .col-md-auto, .col-sm, .col-sm-1, .col-sm-10, .col-sm-11, .col-sm-12, .col-sm-2, .col-sm-3, .col-sm-4, .col-sm-5, .col-sm-6, .col-sm-7, .col-sm-8, .col-sm-9, .col-sm-auto, .col-xl, .col-xl-1, .col-xl-10, .col-xl-11, .col-xl-12, .col-xl-2, .col-xl-3, .col-xl-4, .col-xl-5, .col-xl-6, .col-xl-7, .col-xl-8, .col-xl-9, .col-xl-auto {
    position: relative;
    width: 100%;
    min-height: 1px;
    padding-right: 15px;
    padding-left: 15px;
}

.col-12 {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100%;
    flex: 0 0 100%;
    max-width: 100%;
}

@media (min-width: 768px) {
    .col-md-3 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 25%;
        flex: 0 0 25%;
        max-width: 25%;
    }
}

@media (min-width: 768px) {
    .col-md-9 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 75%;
        flex: 0 0 75%;
        max-width: 75%;
    }
}

@media (min-width: 1200px) {
    .col-xl-2 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 16.666667%;
        flex: 0 0 16.666667%;
        max-width: 16.666667%;
    }
}

@media (min-width: 1200px) {
    .col-xl-10 {
        -webkit-box-flex: 0;
        -ms-flex: 0 0 83.333333%;
        flex: 0 0 83.333333%;
        max-width: 83.333333%;
    }
}

@media (min-width: 768px) {
    .pt-md-3, .py-md-3 {
        padding-top: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pb-md-3, .py-md-3 {
        padding-bottom: 1rem!important;
    }
}

@media (min-width: 768px) {
    .pl-md-5, .px-md-5 {
        padding-left: 3rem!important;
    }
}

.d-none {
    display: none!important;
}

@media (min-width: 1200px) {
    .d-xl-block {
        display: block!important;
    }
}

@media (min-width: 768px) {
    .d-md-block {
        display: block!important;
    }
}

.bd-content {
    -webkit-box-ordinal-group: 1;
    -ms-flex-order: 0;
    order: 0;
}

.bd-toc {
    position: -webkit-sticky;
    position: sticky;
    top: 4rem;
    height: calc(100vh - 10rem);
    overflow-y: auto;
}

.bd-toc {
    -webkit-box-ordinal-group: 2;
    -ms-flex-order: 1;
    order: 1;
    padding-top: 1.5rem;
    padding-bottom: 1.5rem;
    font-size: .875rem;
}

.section-nav {
    padding-left: 0;
}

.section-nav ul {
    font-size: .875rem;
    list-style-type: none;
}

.section-nav li {
    font-size: .875rem;
}

.section-nav a {
    color: inherit !important;
    white-space: nowrap;
}

.row {
    display: -webkit-box;
    display: -ms-flexbox;
    display: flex;
    -ms-flex-wrap: wrap;
    flex-wrap: wrap;
    margin-right: -15px;
    margin-left: -15px;
}

@media (min-width: 1200px) {
    .flex-xl-nowrap {
        flex-wrap: nowrap !important;
    }
}

#floating-button {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background: #00897B;
    position: fixed;
    top: .5rem;
    right: .5rem;
    cursor: pointer;
    box-shadow: 0px 2px 5px #666;
}

#floating-button .more {
    color: #F5F5F5;
    position: absolute;
    top: 0;
    display: block;
    bottom: 0;
    left: 0;
    right: 0;
    text-align: center;
    padding: 0;
    margin: 0;
    line-height: 2.5rem;
    font-size: 2rem;
    font-family: 'monospace';
    font-weight: 300;
}

.hide-none {
    display: none !important;
}

.col-expand {
    -webkit-box-flex: 0;
    -ms-flex: 0 0 100% !important;
    flex: 0 0 100% !important;
    max-width: 100% !important;
    padding-right: 3rem !important;
}

.outline-bold {
    font-weight: bolder !important;
}

@media print {
    #floating-button {
        display: none !important;
    }
}


    #vx-content.vx-section-number, #vx-content.vx-section-number-2 h1, #vx-content.vx-section-number-3 h1, #vx-content.vx-section-number-3 h2 { counter-reset: section1 0 section2 0 section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h1, #vx-content.vx-section-number-2 h2, #vx-content.vx-section-number-3 h3 { counter-reset: section2 0 section3 0 section4 0 seciton5 0 section6 0; }
#vx-content.vx-section-number-1 h2, #vx-content.vx-section-number-2 h3, #vx-content.vx-section-number-3 h4 { counter-reset: section3 0 section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h3, #vx-content.vx-section-number-2 h4, #vx-content.vx-section-number-3 h5 { counter-reset: section4 0 section5 0 section6 0; }
#vx-content.vx-section-number-1 h4, #vx-content.vx-section-number-2 h5 { counter-reset: section5 0 section6 0; }
#vx-content.vx-section-number-1 h5 { counter-reset: section6 0; }
#vx-content.vx-section-number-1 h1::before, #vx-content.vx-section-number-2 h2::before, #vx-content.vx-section-number-3 h3::before { counter-increment: section1 1; content: counter(section1) ". "; }
#vx-content.vx-section-number-1 h2::before, #vx-content.vx-section-number-2 h3::before, #vx-content.vx-section-number-3 h4::before { counter-increment: section2 1; content: counter(section1) "." counter(section2) ". "; }
#vx-content.vx-section-number-1 h3::before, #vx-content.vx-section-number-2 h4::before, #vx-content.vx-section-number-3 h5::before { counter-increment: section3 1; content: counter(section1) "." counter(section2) "." counter(section3) ". "; }
#vx-content.vx-section-number-1 h4::before, #vx-content.vx-section-number-2 h5::before, #vx-content.vx-section-number-3 h6::before { counter-increment: section4 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) ". "; }
#vx-content.vx-section-number-1 h5::before, #vx-content.vx-section-number-2 h6::before { counter-increment: section5 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) ". "; }
#vx-content.vx-section-number-1 h6::before { counter-increment: section6 1; content: counter(section1) "." counter(section2) "." counter(section3) "." counter(section4) "." counter(section5) "." counter(section6) ". "; }
#vx-content.vx-constrain-image-width img, #vx-content.vx-constrain-image-width div.vx-plantuml-graph > svg, #vx-content.vx-constrain-image-width div.vx-mermaid-graph, #vx-content.vx-constrain-image-width div.vx-flowchartjs-graph, #vx-content.vx-constrain-image-width div.vx-wavedrom-graph { max-width: 100% !important; height: auto !important; }
figure { margin: auto; }
figcaption { font-style: italic; }
#vx-content.vx-image-align-center figure { text-align: center; }
#vx-content.vx-image-align-center figcaption { text-align: center; }
#vx-content.vx-image-align-center div.vx-plantuml-graph, #vx-content.vx-image-align-center div.vx-mermaid-graph, #vx-content.vx-image-align-center div.vx-flowchartjs-graph, #vx-content.vx-image-align-center div.vx-wavedrom-graph { margin-left: auto; margin-right: auto; }
.vx-table-of-contents ol { list-style: none; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol { counter-reset: toc 0; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-1 .vx-table-of-contents ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-2 .vx-table-of-contents > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol { counter-reset: toc 0; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li { counter-increment: toc 1; }
#vx-content.vx-section-number-3 .vx-table-of-contents > ol > li > ol > li ol li::before { content: counters(toc, ".") ". "; font-family: cursive; }
.vx-header-anchor { visibility: hidden; vertical-align: middle; }
.vx-header-anchor::after { content: attr(vx-data-anchor-icon); }
#vx-content h1:hover .vx-header-anchor, #vx-content h2:hover .vx-header-anchor, #vx-content h3:hover .vx-header-anchor, #vx-content h4:hover .vx-header-anchor, #vx-content h5:hover .vx-header-anchor, #vx-content h6:hover .vx-header-anchor { visibility: visible; vertical-align: middle; }
#vx-content.vx-indent-first-line p { text-indent: 2em; }
body.vx-transparent-background { background-color: transparent !important; }
#vx-content.vx-nonscrollable pre { white-space: pre-wrap !important; word-break: break-all !important; overflow: hidden !important; }
#vx-content.vx-nonscrollable pre code { white-space: pre-wrap !important; word-break: break-all !important; }
#vx-content.vx-nonscrollable code, #vx-content.vx-nonscrollable a { word-break: break-all !important; }
body { margin: 0px auto; font-family: "YaHei Consolas Hybrid", "Noto Sans", "Helvetica Neue", "Segoe UI", Helvetica, Tahoma, Arial, Geneva, Georgia, Palatino, "Times New Roman", 冬青黑体, "Microsoft YaHei", 微软雅黑, "Microsoft YaHei UI", "WenQuanYi Micro Hei", 文泉驿雅黑, Dengxian, 等线体, STXihei, 华文细黑, "Liberation Sans", "Droid Sans", NSimSun, 新宋体, SimSun, 宋体, "Apple Color Emoji", "Segoe UI Emoji"; color: rgb(34, 34, 34); line-height: 1.5; padding: 16px; background-color: rgb(255, 255, 255); font-size: 16px; }
h1, h2, h3, h4, h5, h6 { color: rgb(34, 34, 34); font-weight: bold; margin-top: 20px; margin-bottom: 10px; padding: 0px; }
p, blockquote, ul, ol, dl, table { margin: 0.4em 0px; }
p { padding: 0px; }
h1 { font-size: 2rem; }
h2 { font-size: 1.75rem; }
h3 { font-size: 1.4rem; }
h4 { font-size: 1.2rem; }
h5 { font-size: 1rem; }
h6 { font-size: 1rem; }
a { color: rgb(0, 153, 255); margin: 0px; padding: 0px; vertical-align: baseline; text-decoration: none; word-break: break-word; }
a:hover { text-decoration: underline; }
a:visited { color: purple; }
ul, ol { padding: 0px 0px 0px 24px; }
li { line-height: 24px; }
li ul, li ol { margin-left: 16px; }
p, ul, ol { font-size: 16px; line-height: 24px; }
pre { display: block; overflow: auto hidden; tab-size: 4; }
code { font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; color: rgb(142, 36, 170); word-break: break-word; }
pre code { display: block; padding-left: 0.5em; padding-right: 0.5em; color: rgb(34, 34, 34); background-color: rgb(224, 224, 224); line-height: 1.5; font-family: "YaHei Consolas Hybrid", Consolas, Monaco, "Andale Mono", monospace, "Courier New"; white-space: pre; tab-size: 4; }
aside { display: block; float: right; width: 390px; }
blockquote { color: rgb(102, 102, 102); border-left: 0.5em solid rgb(122, 122, 122); padding: 0px 1em; }
blockquote p { color: rgb(102, 102, 102); }
hr { display: block; text-align: left; margin: 1em 0px; border: none; height: 2px; background-color: rgb(153, 153, 153); }
table { padding: 0px; margin: 1rem 0.5rem; border-collapse: collapse; }
table tr { border-top: 1px solid rgb(204, 204, 204); background-color: rgb(255, 255, 255); margin: 0px; padding: 0px; }
table tr:hover { background-color: rgb(218, 218, 218); }
table tr th { font-weight: bold; border: 1px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr td { border: 1px solid rgb(204, 204, 204); margin: 0px; padding: 6px 13px; }
table tr th :first-child, table tr td :first-child { margin-top: 0px; }
table tr th :last-child, table tr td :last-child { margin-bottom: 0px; }
div.vx-mermaid-graph { margin: 16px 0px; overflow-y: hidden; }
div.vx-flowchartjs-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-wavedrom-graph { padding: 0px 5px; margin: 16px 0px; width: fit-content; overflow: hidden; }
div.vx-plantuml-graph { padding: 5px 5px 0px; margin: 16px 0px; width: fit-content; overflow: hidden; }
::selection { background-color: rgb(25, 118, 210); color: rgb(255, 255, 255); }
::-webkit-scrollbar { background-color: rgb(245, 245, 245); width: 14px; height: 14px; border: none; }
::-webkit-scrollbar-corner { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button { height: 14px; width: 14px; background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-button:hover { background-color: rgb(218, 218, 218); }
::-webkit-scrollbar-button:active { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-track { background-color: rgb(245, 245, 245); }
::-webkit-scrollbar-thumb { border: none; background-color: rgb(205, 205, 205); }
::-webkit-scrollbar-thumb:hover { background-color: rgb(192, 192, 192); }
::-webkit-scrollbar-thumb:active { background-color: rgb(187, 187, 187); }
::-webkit-scrollbar-button:horizontal:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M19 12L31 24L19 36" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:horizontal:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M31 36L19 24L31 12" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:increment { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M36 18L24 30L12 18" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
::-webkit-scrollbar-button:vertical:decrement { background-image: url('data:image/svg+xml;utf8,<?xml version="1.0" encoding="UTF-8"?><svg width="48" height="48" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg"><path d="M13 30L25 18L37 30" stroke="%23222222" stroke-width="4" stroke-linecap="round" stroke-linejoin="round"/></svg>'); background-repeat: no-repeat; background-size: contain; }
#vx-content span.vx-search-match { color: rgb(34, 34, 34); background-color: rgb(77, 182, 172); }
#vx-content span.vx-current-search-match { color: rgb(34, 34, 34); background-color: rgb(102, 187, 106); }
.vx-alert { background-color: rgb(226, 237, 243) !important; padding: 12px 24px 12px 30px !important; border-radius: 0px !important; border-top: none !important; border-right: none !important; border-bottom: none !important; border-image: initial !important; border-left: 4px solid rgb(73, 139, 167) !important; color: inherit !important; }
.vx-alert::before { background-color: rgb(73, 139, 167); border-radius: 100%; color: rgb(255, 255, 255); content: "!"; font-family: Dosis, "Source Sans Pro", "Helvetica Neue", Arial, sans-serif; font-size: 14px; font-weight: bold; left: -12px; line-height: 20px; position: absolute; height: 20px; width: 20px; text-align: center; top: 14px; }
.alert-success, .alert-s { border-color: rgb(66, 185, 131) !important; background-color: rgb(212, 237, 218) !important; }
.alert-success::before, .alert-s::before { background-color: rgb(66, 185, 131); }
.alert-warning, .alert-w { border-color: rgb(255, 165, 2) !important; background-color: rgb(255, 243, 205) !important; }
.alert-warning::before, .alert-w::before { background-color: rgb(255, 165, 2); }
.alert-info, .alert-i { border-color: rgb(112, 161, 255) !important; background-color: rgb(204, 229, 255) !important; }
.alert-info::before, .alert-i::before { background-color: rgb(112, 161, 255); }
.alert-danger, .alert-d { border-color: rgb(255, 71, 87) !important; background-color: rgb(248, 215, 218) !important; }
.alert-danger::before, .alert-d::before { background-color: rgb(255, 71, 87); }
.alert-light { border-color: rgb(193, 193, 193) !important; background-color: rgb(248, 248, 248) !important; }
.alert-light::before { background-color: rgb(193, 193, 193); }
.alert-dark { border-color: rgb(72, 72, 72) !important; background-color: rgb(240, 240, 240) !important; }
.alert-dark::before { background-color: rgb(72, 72, 72); }
code[class*="language-"], pre[class*="language-"] { color: black; background: none; font-size: 1em; text-align: left; white-space: pre; word-spacing: normal; word-break: normal; overflow-wrap: normal; line-height: 1.5; tab-size: 4; hyphens: none; }
pre[class*="language-"]::selection, pre[class*="language-"] ::selection, code[class*="language-"]::selection, code[class*="language-"] ::selection { text-shadow: none; background-color: rgb(25, 118, 210); color: rgb(255, 255, 255); }
@media print {
  code[class*="language-"], pre[class*="language-"] { text-shadow: none; }
}
pre[class*="language-"] { padding: 1em; margin: 0.5em 0px; overflow: auto; }
:not(pre) > code[class*="language-"], pre[class*="language-"] { background: rgb(237, 232, 228); }
:not(pre) > code[class*="language-"] { padding: 0.1em; border-radius: 0.3em; white-space: normal; }
.token.comment, .token.prolog, .token.doctype, .token.cdata { color: slategray; }
.token.punctuation { color: rgb(153, 153, 153); }
.token.namespace { opacity: 0.7; }
.token.property, .token.tag, .token.boolean, .token.number, .token.constant, .token.symbol, .token.deleted { color: rgb(153, 0, 85); }
.token.selector, .token.attr-name, .token.string, .token.char, .token.builtin, .token.inserted { color: rgb(102, 153, 0); }
.token.operator, .token.entity, .token.url, .language-css .token.string, .style .token.string { color: rgb(154, 110, 58); }
.token.atrule, .token.attr-value, .token.keyword { color: rgb(0, 119, 170); }
.token.function, .token.class-name { color: rgb(221, 74, 104); }
.token.regex, .token.important, .token.variable { color: rgb(238, 153, 0); }
.token.important, .token.bold { font-weight: bold; }
.token.italic { font-style: italic; }
.token.entity { cursor: help; }
pre[class*="language-"].line-numbers { position: relative; padding-left: 3.8em; counter-reset: linenumber 0; }
pre[class*="language-"].line-numbers > code { position: relative; white-space: inherit; }
.line-numbers .line-numbers-rows { position: absolute; pointer-events: none; top: 0px; font-size: 100%; left: -3.8em; width: 3em; letter-spacing: -1px; border-right: 1px solid rgb(153, 153, 153); user-select: none; }
.line-numbers-rows > span { display: block; counter-increment: linenumber 1; }
.line-numbers-rows > span::before { content: counter(linenumber); color: rgb(153, 153, 153); display: block; padding-right: 0.8em; text-align: right; }
div.code-toolbar { position: relative; }
div.code-toolbar > .toolbar { position: absolute; top: 0.3em; right: 0.2em; transition: opacity 0.3s ease-in-out 0s; opacity: 0; }
div.code-toolbar:hover > .toolbar { opacity: 1; }
div.code-toolbar:focus-within > .toolbar { opacity: 1; }
div.code-toolbar > .toolbar .toolbar-item { display: inline-block; }
div.code-toolbar > .toolbar a { cursor: pointer; }
div.code-toolbar > .toolbar button { background: none; border: 0px; color: inherit; font-style: inherit; font-variant: inherit; font-weight: inherit; font-stretch: inherit; font-size: inherit; font-family: inherit; line-height: normal; overflow: visible; padding: 0px; user-select: none; }
div.code-toolbar > .toolbar a, div.code-toolbar > .toolbar button, div.code-toolbar > .toolbar span { color: rgb(187, 187, 187); font-size: 0.8em; padding: 0px 0.5em; background: rgba(224, 224, 224, 0.2); box-shadow: rgba(0, 0, 0, 0.2) 0px 2px 0px 0px; border-radius: 0.5em; }
div.code-toolbar > .toolbar a:hover, div.code-toolbar > .toolbar a:focus, div.code-toolbar > .toolbar button:hover, div.code-toolbar > .toolbar button:focus, div.code-toolbar > .toolbar span:hover, div.code-toolbar > .toolbar span:focus { color: inherit; text-decoration: none; }
.vx-image-view-image { transition: all 0.3s ease 0s; }
.vx-modal-box { display: none; position: fixed; z-index: 1000; padding-top: 50px; left: 0px; top: 0px; width: 100%; height: 100%; overflow: hidden; background-color: rgba(51, 56, 66, 0.85); }
.vx-modal-content { margin: auto; display: block; width: auto; height: auto; cursor: move; }
.vx-modal-content { animation-name: zoom; animation-duration: 0.6s; }
@-webkit-keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
@keyframes zoom { 
  0% { transform: scale(0); }
  100% { transform: scale(1); }
}
span.vx-modal-close { position: absolute; z-index: 1000; top: 15px; right: 35px; color: rgb(171, 178, 191); font-size: 40px; font-weight: bold; transition: all 0.3s ease 0s; }
span.vx-modal-close:hover, span.vx-modal-close:focus { color: rgb(215, 218, 224); text-decoration: none; cursor: pointer; }
ul.contains-task-list { list-style-type: none; }
.vx-alert { position: relative; padding: 0.75rem 1.25rem; margin-bottom: 1rem; border: 1px solid transparent; border-radius: 0.25rem; }
.alert-primary { color: rgb(0, 64, 133); background-color: rgb(204, 229, 255); border-color: rgb(184, 218, 255); }
.alert-secondary { color: rgb(56, 61, 65); background-color: rgb(226, 227, 229); border-color: rgb(214, 216, 219); }
.alert-success { color: rgb(21, 87, 36); background-color: rgb(212, 237, 218); border-color: rgb(195, 230, 203); }
.alert-info { color: rgb(12, 84, 96); background-color: rgb(209, 236, 241); border-color: rgb(190, 229, 235); }
.alert-warning { color: rgb(133, 100, 4); background-color: rgb(255, 243, 205); border-color: rgb(255, 238, 186); }
.alert-danger { color: rgb(114, 28, 36); background-color: rgb(248, 215, 218); border-color: rgb(245, 198, 203); }
.alert-light { color: rgb(129, 129, 130); background-color: rgb(254, 254, 254); border-color: rgb(253, 253, 254); }
.alert-dark { color: rgb(27, 30, 33); background-color: rgb(214, 216, 217); border-color: rgb(198, 200, 202); }

    </style>

    <script type="text/javascript">
        var vxOutlineToc = [];

var setVisible = function(node, visible) {
    var cl = 'hide-none';
    if (visible) {
        node.classList.remove(cl);
    } else {
        node.classList.add(cl);
    }
};

var isVisible = function(node) {
    var cl = 'hide-none';
    return !node.classList.contains(cl);
};

var setPostContentExpanded = function(node, expanded) {
    var cl = 'col-expand';
    if (expanded) {
        node.classList.add(cl);
    } else {
        node.classList.remove(cl);
    }
};

var setOutlinePanelVisible = function(visible) {
    var outlinePanel = document.getElementById('outline-panel');
    var postContent = document.getElementById('post-content');

    setVisible(outlinePanel, visible);
    setPostContentExpanded(postContent, !visible);
};

var isOutlinePanelVisible = function() {
    var outlinePanel = document.getElementById('outline-panel');
    return isVisible(outlinePanel);
};

window.addEventListener('load', function() {
    var outlinePanel = document.getElementById('outline-panel');
    outlinePanel.style.display = 'initial';

    var floatingContainer = document.getElementById('container-floating');
    floatingContainer.style.display = 'initial';

    var outlineContent = document.getElementById('outline-content');
    var postContent = document.getElementById('post-content');

    // Escape @text to Html.
    var escapeHtml = function(text) {
        var map = {
            '&': '&amp;',
            '<': '&lt;',
            '>': '&gt;',
            '"': '&quot;',
            "'": '&#039;'
        };

        return text.replace(/[&<>"']/g, function(m) { return map[m]; });
    }

    // Fetch the outline.
    var headers = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");
    vxOutlineToc = [];
    for (var i = 0; i < headers.length; ++i) {
        var header = headers[i];

        vxOutlineToc.push({
            level: parseInt(header.tagName.substr(1)),
            anchor: header.id,
            title: escapeHtml(header.textContent)
        });
    }

    if (vxOutlineToc.length == 0) {
        setOutlinePanelVisible(false);
        setVisible(floatingContainer, false);
        return;
    }

    var baseLevel = baseLevelOfToc(vxOutlineToc);
    var tocTree = tocToTree(toPerfectToc(vxOutlineToc, baseLevel), baseLevel);

    outlineContent.innerHTML = tocTree;
    setOutlinePanelVisible(true);
    setVisible(floatingContainer, true);
});

// Return the topest level of @vxOutlineToc, starting from 1.
var baseLevelOfToc = function(p_toc) {
    var level = -1;
    for (i in p_toc) {
        if (level == -1) {
            level = p_toc[i].level;
        } else if (level > p_toc[i].level) {
            level = p_toc[i].level;
        }
    }

    if (level == -1) {
        level = 1;
    }

    return level;
};

// Handle wrong title levels, such as '#' followed by '###'
var toPerfectToc = function(p_toc, p_baseLevel) {
    var i;
    var curLevel = p_baseLevel - 1;
    var perfToc = [];
    for (i in p_toc) {
        var item = p_toc[i];

        // Insert empty header.
        while (item.level > curLevel + 1) {
            curLevel += 1;
            var tmp = { level: curLevel,
                        anchor: '',
                        title: '[EMPTY]'
                      };
            perfToc.push(tmp);
        }

        perfToc.push(item);
        curLevel = item.level;
    }

    return perfToc;
};

var itemToHtml = function(item) {
    return '<a href="#' + item.anchor + '" title="' + item.title + '" data="' + item.anchor + '">' + item.title + '</a>';
};

// Turn a perfect toc to a tree using <ul>
var tocToTree = function(p_toc, p_baseLevel) {
    var i;
    var front = '<li>';
    var ending = ['</li>'];
    var curLevel = p_baseLevel;
    for (i in p_toc) {
        var item = p_toc[i];
        if (item.level == curLevel) {
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        } else if (item.level > curLevel) {
            // assert(item.level - curLevel == 1)
            front += '<ul>';
            ending.push('</ul>');
            front += '<li>';
            front += itemToHtml(item);
            ending.push('</li>');
            curLevel = item.level;
        } else {
            while (item.level < curLevel) {
                var ele = ending.pop();
                front += ele;
                if (ele == '</ul>') {
                    curLevel--;
                }
            }
            front += '</li>';
            front += '<li>';
            front += itemToHtml(item);
        }
    }
    while (ending.length > 0) {
        front += ending.pop();
    }
    front = front.replace("<li></li>", "");
    front = '<ul>' + front + '</ul>';
    return front;
};

var toggleMore = function() {
    if (vxOutlineToc.length == 0) {
        return;
    }

    var p = document.getElementById('floating-more');
    if (isOutlinePanelVisible()) {
        p.textContent = '<';
        setOutlinePanelVisible(false);
    } else {
        p.textContent = '>';
        setOutlinePanelVisible(true);
    }
};

window.addEventListener('scroll', function() {
    if (vxOutlineToc.length == 0 || !isOutlinePanelVisible()) {
        return;
    }

    var postContent = document.getElementById('post-content');
    var scrollTop = document.documentElement.scrollTop
                    || document.body.scrollTop
                    || window.pageYOffset;
    var eles = postContent.querySelectorAll("h1, h2, h3, h4, h5, h6");

    if (eles.length == 0) {
        return;
    }

    var idx = -1;
    var biaScrollTop = scrollTop + 50;
    for (var i = 0; i < eles.length; ++i) {
        if (biaScrollTop >= eles[i].offsetTop) {
            idx = i;
        } else {
            break;
        }
    }

    var header = '';
    if (idx != -1) {
        header = eles[idx].id;
    }

    highlightItemOnlyInOutline(header);
});

var highlightItemOnlyInOutline = function(id) {
    var cl = 'outline-bold';
    var outlineContent = document.getElementById('outline-content');
    var eles = outlineContent.querySelectorAll("a");
    var target = null;
    for (var i = 0; i < eles.length; ++i) {
        var ele = eles[i];
        if (ele.getAttribute('data') == id) {
            target = ele;
            ele.classList.add(cl);
        } else {
            ele.classList.remove(cl);
        }
    }

    // TODO: scroll target into view within the outline panel scroll area.
};

    </script>

    <!-- VX_SCRIPTS_PLACEHOLDER -->

    <!-- VX_HEAD_PLACEHOLDER -->
</head>
<body class="vx-transparent-background">
    <div class="container-fluid">
    <div class="row flex-xl-nowrap">
        <!-- VX_OUTLINE_PANEL_START -->
        <div id="outline-panel" style="display:none;" class="d-none d-md-block d-xl-block col-md-3 col-xl-2 bd-toc">
            <div id="outline-content" class="section-nav"></div>
        </div>
        <!-- VX_OUTLINE_PANEL_END -->

        <div id="post-content" class="col-12 col-md-9 col-xl-10 py-md-3 pl-md-5 bd-content">
        <div id="vx-content" class="vx-constrain-image-width line-numbers"><h1 id="20240702第二节课" class="source-line" data-source-line="0">20240702第二节课<a class="vx-header-anchor" href="#20240702第二节课" vx-data-anchor-icon="¶"></a></h1>
<p class="source-line" data-source-line="1">c语言基础<br>
作业：</p>
<ul>
<li class="source-line" data-source-line="3">至少要包含两种数据类型</li>
<li class="source-line" data-source-line="4">至少两个运算符，0</li>
<li class="source-line" data-source-line="5">C写小程序编译为arm架构给同学看汇编</li>
<li class="source-line" data-source-line="6">自己要懂</li>
</ul>
<p class="source-line" data-source-line="8">查看硬浮点和软浮点区别，首先编译软浮点32位arm架构，动态链接库</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="11">安装qemu虚拟机
sudo apt-get install qemu-system #用于完整系统仿真，模拟整个硬件平台。
sudo apt-get install qemu-user #用于用户模式仿真，运行跨架构的单个用户空间程序。
sudo apt-get install qemu-user-static #与 qemu-user 类似，但提供静态编译的二进制文件
ARM 编译运行
#arm-linux-gnueabi-gcc 和 arm-linux-gnueabihf-gcc
​
#首先安装 gcc-arm-linux-gnueabi 包，它包含了编译 ARM 程序所需的工具和库。
sudo apt-get install gcc-arm-linux-gnueabi
​
​
#使用 arm-linux-gnueabi-gcc 交叉编译器将 simple.c 编译成适用于 ARM 架构的可执行文件 arm、
arm-linux-gnueabi-gcc -o arm simple.c
​
file arm
​
arm: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), dynamically linked, interpreter /lib/ld-linux.so.3, for GNU/Linux 3.2.0, BuildID[sha1]=e70740f3aff8bf82a0bf806fb7e5851df5b2ea43, not stripped
​
arm-linux-gnueabi-gcc -o arm1 simple.c --static #--static： 是用于编译静态链接的可执行文件的选项。静态链接与动态链接相对，静态链接的可执行文件包含了所有需要的库，这样在运行时不依赖于外部共享库
​
file arm1
​
arm1: ELF 32-bit LSB executable, ARM, EABI5 version 1 (SYSV), statically linked, for GNU/Linux 3.2.0, BuildID[sha1]=967971c8cbeb206273f3208a26ae242c61d951f8, not stripped
​
​
#使用 QEMU 模拟器在 x86 主机上运行编译后的 ARM 可执行文件 arm
qemu-arm-static ./arm #静态编译直接运行
qemu-arm -L /usr/arm-linux-gnueabi ./arm 
​
​
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<p class="source-line" data-source-line="44">arm-linux-gnueabi-gcc -o test test #gnueabi表示编译出来的是软浮点（软件实现）</p>
<h4 id="home-work" class="source-line" data-source-line="47">home work<a class="vx-header-anchor" href="#home-work" vx-data-anchor-icon="¶"></a></h4>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="49">
<span aria-hidden="true" class="line-numbers-rows"><span></span></span></code></pre></div>
<p class="source-line" data-source-line="54">###一些小练习</p>
<h5 id="异或与乘法" class="source-line" data-source-line="56">异或与乘法<a class="vx-header-anchor" href="#异或与乘法" vx-data-anchor-icon="¶"></a></h5>
<p class="source-line" data-source-line="57">c源码</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="58">#include &lt;stdio.h&gt;

int main() {
    int a = 12;
    float b = 3.14f;
    int c = a + 3;

    printf("a=%d b=%f\r\n",a^c,b*a);
    
    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="72">xt:00010400                               a= -0x18
.text:00010400                               b= -0x14
.text:00010400                               c= -0x10
.text:00010400
.text:00010400 10 48 2D E9                   PUSH    {R4,R11,LR}
.text:00010404 08 B0 8D E2                   ADD     R11, SP, #8
.text:00010408 14 D0 4D E2                   SUB     SP, SP, #0x14
.text:0001040C 0C 30 A0 E3                   MOV     R3, #0xC
.text:00010410 18 30 0B E5                   STR     R3, [R11,#a]
.text:00010414 60 30 9F E5                   LDR     R3, =0x4048F5C3
.text:00010418 14 30 0B E5                   STR     R3, [R11,#b]
.text:0001041C 18 30 1B E5                   LDR     R3, [R11,#a]
.text:00010420 03 30 83 E2                   ADD     R3, R3, #3
.text:00010424 10 30 0B E5                   STR     R3, [R11,#c]
.text:00010428 18 20 1B E5                   LDR     R2, [R11,#a]
.text:0001042C 10 30 1B E5                   LDR     R3, [R11,#c]
.text:00010430 03 40 22 E0                   EOR     R4, R2, R3
.text:00010434 18 00 1B E5                   LDR     R0, [R11,#a]
.text:00010438 6A 01 00 EB                   BL      __floatsisf
.text:00010438
.text:0001043C 00 30 A0 E1                   MOV     R3, R0
.text:00010440 14 10 1B E5                   LDR     R1, [R11,#b]
.text:00010444 03 00 A0 E1                   MOV     R0, R3
.text:00010448 91 01 00 EB                   BL      __mulsf3
.text:00010448
.text:0001044C 00 30 A0 E1                   MOV     R3, R0
.text:00010450 03 00 A0 E1                   MOV     R0, R3
.text:00010454 CB 00 00 EB                   BL      __extendsfdf2
.text:00010454
.text:00010458 00 20 A0 E1                   MOV     R2, R0
.text:0001045C 01 30 A0 E1                   MOV     R3, R1
.text:00010460 04 10 A0 E1                   MOV     R1, R4
.text:00010464 14 00 9F E5                   LDR     R0, =format                     ; "a=%d b=%f\r\n"
.text:00010468 9C FF FF EB                   BL      printf
.text:00010468
.text:0001046C 00 30 A0 E3                   MOV     R3, #0
.text:00010470 03 00 A0 E1                   MOV     R0, R3
.text:00010474 08 D0 4B E2                   SUB     SP, R11, #8
.text:00010478 10 88 BD E8                   POP     {R4,R11,PC}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="114">函数入口和栈操作
.text:00010400 10 48 2D E9     PUSH    {R4,R11,LR}
.text:00010404 08 B0 8D E2     ADD     R11, SP, #8
.text:00010408 14 D0 4D E2     SUB     SP, SP, #0x14
PUSH {R4, R11, LR}：将寄存器R4、R11和LR（链接寄存器）的值压入栈中，保存它们的当前状态。
ADD R11, SP, #8：将当前栈指针SP的值加上8，将结果存入R11中，用来建立本地栈框架。
SUB SP, SP, #0x14：从当前栈指针SP中减去0x14（20），为局部变量和临时存储空间在栈上分配空间。
变量初始化
.text:0001040C 0C 30 A0 E3     MOV     R3, #0xC
.text:00010410 18 30 0B E5     STR     R3, [R11,#a]
.text:00010414 60 30 9F E5     LDR     R3, =0x4048F5C3
.text:00010418 14 30 0B E5     STR     R3, [R11,#b]
MOV R3, #0xC：将立即数0xC（12）加载到寄存器R3中。
STR R3, [R11,#a]：将R3的值存储到相对于R11偏移量为a的内存位置（a在之前声明为-0x18）。
LDR R3, =0x4048F5C3：将立即数0x4048F5C3加载到R3中。
STR R3, [R11,#b]：将R3的值存储到相对于R11偏移量为b的内存位置（b在之前声明为-0x14）。
运算操作
.text:0001041C 18 30 1B E5     LDR     R3, [R11,#a]
.text:00010420 03 30 83 E2     ADD     R3, R3, #3
.text:00010424 10 30 0B E5     STR     R3, [R11,#c]
.text:00010428 18 20 1B E5     LDR     R2, [R11,#a]
.text:0001042C 10 30 1B E5     LDR     R3, [R11,#c]
.text:00010430 03 40 22 E0     EOR     R4, R2, R3
LDR R3, [R11,#a]：从相对于R11偏移量为a的内存位置加载值到R3中。
ADD R3, R3, #3：将R3的值加上3。
STR R3, [R11,#c]：将R3的值存储到相对于R11偏移量为c的内存位置（c在之前声明为-0x10）。
LDR R2, [R11,#a]：从相对于R11偏移量为a的内存位置加载值到R2中。
LDR R3, [R11,#c]：从相对于R11偏移量为c的内存位置加载值到R3中。
EOR R4, R2, R3：计算R2和R3的异或结果，结果存入R4。
函数调用和结果处理
.text:00010434 18 00 1B E5     LDR     R0, [R11,#a]
.text:00010438 6A 01 00 EB     BL      __floatsisf
.text:0001043C 00 30 A0 E1     MOV     R3, R0
.text:00010440 14 10 1B E5     LDR     R1, [R11,#b]
.text:00010444 03 00 A0 E1     MOV     R0, R3
.text:00010448 91 01 00 EB     BL      __mulsf3
.text:0001044C 00 30 A0 E1     MOV     R3, R0
.text:00010450 03 00 A0 E1     MOV     R0, R3
.text:00010454 CB 00 00 EB     BL      __extendsfdf2
LDR R0, [R11,#a]：从相对于R11偏移量为a的内存位置加载值到R0中。
BL __floatsisf：调用__floatsisf函数，将R0的整数值转换为浮点数。
MOV R3, R0：将浮点数结果移动到R3中。
LDR R1, [R11,#b]：从相对于R11偏移量为b的内存位置加载值到R1中。
MOV R0, R3：将R3中的值移动到R0，准备作为参数传递给下一个函数。
BL __mulsf3：调用__mulsf3函数，执行浮点数乘法。
MOV R3, R0：将乘法结果移动到R3中。
MOV R0, R3：将R3中的值移动到R0，准备作为参数传递给下一个函数。
BL __extendsfdf2：调用__extendsfdf2函数，可能是为了处理浮点数的转换或扩展操作。
结果输出
.text:00010458 00 20 A0 E1     MOV     R2, R0
.text:0001045C 01 30 A0 E1     MOV     R3, R1
.text:00010460 04 10 A0 E1     MOV     R1, R4
.text:00010464 14 00 9F E5     LDR     R0, =format   ; "a=%d b=%f\r\n"
.text:00010468 9C FF FF EB     BL      printf
MOV R2, R0：将R0中的值移动到R2中。
MOV R3, R1：将R1中的值移动到R3中。
MOV R1, R4：将R4中的值移动到R1中，准备为格式化输出的参数。
LDR R0, =format：加载格式化字符串的地址到R0中。
BL printf：调用printf函数，将之前准备好的参数按照格式化字符串输出到标准输出设备。
函数结束和栈操作
.text:0001046C 00 30 A0 E3     MOV     R3, #0
.text:00010470 03 00 A0 E1     MOV     R0, R3
.text:00010474 08 D0 4B E2     SUB     SP, R11, #8
.text:00010478 10 88 BD E8     POP     {R4,R11,PC}
MOV R3, #0：将立即数0移动到R3中。
MOV R0, R3：将R3中的值移动到R0中，准备作为函数返回值。
SUB SP, R11, #8：恢复栈指针SP，释放分配给局部变量和临时存储的空间。
POP {R4, R11, PC}：从栈中弹出保存的R4、R11和PC（程序计数器），恢复调用该函数前的状态并返回。
这段汇编代码实现了一些基本的内存操作、算术运算
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<h6 id="小计" class="source-line" data-source-line="186">小计<a class="vx-header-anchor" href="#小计" vx-data-anchor-icon="¶"></a></h6>
<ul>
<li class="source-line" data-source-line="187">__floatsisf函数，将R0的整数值转换为浮点数</li>
<li class="source-line" data-source-line="188">__mulsf3函数，执行浮点数乘法，R0,R1传参</li>
<li class="source-line" data-source-line="189">__extendsfdf2，将R0中float浮点数数据扩展为double类型，数据输出于R0与R1</li>
<li class="source-line" data-source-line="190">__aeabi_dcmpeq 它的作用是比较两个double类型的值是否相等</li>
</ul>
<h5 id="switch和取余" class="source-line" data-source-line="192">switch和取余<a class="vx-header-anchor" href="#switch和取余" vx-data-anchor-icon="¶"></a></h5>
<p class="source-line" data-source-line="193">MagicNumber<br>
c代码</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="195">#include &lt;stdio.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;time.h&gt;

int main() {
    int dayOfWeek;

    srand(time(NULL));
    dayOfWeek = rand() % 7 + 1;

    switch (dayOfWeek) {
        case 1:
            printf("Monday\n");
            break;
        case 2:
            printf("Tuesday\n");
            break;
        case 3:
            printf("Wednesday\n");
            break;
        case 4:
            printf("Thursday\n");
            break;
        case 5:
            printf("Friday\n");
            break;
        case 6:
            printf("Saturday\n");
            break;
        case 7:
            printf("Sunday\n");
            break;
        default:
            printf("Random number generation error\n");
    }

    return 0;
}
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<p class="source-line" data-source-line="236">arm汇编代码：</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="237">.text:00010488                               ; int __cdecl main(int argc, const char **argv, const char **envp)
.text:00010488                               EXPORT main
.text:00010488                               main                                    ; DATA XREF: _start+20↑o
.text:00010488                                                                       ; .text:off_103CC↑o
.text:00010488
.text:00010488                               var_10= -0x10
.text:00010488
.text:00010488 10 48 2D E9                   PUSH    {R4,R11,LR}
.text:0001048C 08 B0 8D E2                   ADD     R11, SP, #8
.text:00010490 0C D0 4D E2                   SUB     SP, SP, #0xC
.text:00010494 00 00 A0 E3                   MOV     R0, #0                          ; timer
.text:00010498 A9 FF FF EB                   BL      time
.text:00010498
.text:0001049C 00 30 A0 E1                   MOV     R3, R0
.text:000104A0 03 00 A0 E1                   MOV     R0, R3                          ; seed
.text:000104A4 B2 FF FF EB                   BL      srand
.text:000104A4
.text:000104A8 B4 FF FF EB                   BL      rand
.text:000104A8
.text:000104AC 00 10 A0 E1                   MOV     R1, R0        #这里开始计算取余
.text:000104B0 C4 20 9F E5                   LDR     R2, =0x92492493 #MagicNumber
.text:000104B4 91 32 C4 E0                   SMULL   R3, R4, R1, R2
.text:000104B8 04 30 81 E0                   ADD     R3, R1, R4
.text:000104BC 43 21 A0 E1                   MOV     R2, R3,ASR#2
.text:000104C0 C1 3F A0 E1                   MOV     R3, R1,ASR#31
.text:000104C4 03 20 42 E0                   SUB     R2, R2, R3
.text:000104C8 02 30 A0 E1                   MOV     R3, R2
.text:000104CC 83 31 A0 E1                   MOV     R3, R3,LSL#3
.text:000104D0 02 30 43 E0                   SUB     R3, R3, R2
.text:000104D4 03 20 41 E0                   SUB     R2, R1, R3
.text:000104D8 01 30 82 E2                   ADD     R3, R2, #1    //结束取余运算
.text:000104DC 10 30 0B E5                   STR     R3, [R11,#var_10]
.text:000104E0 10 30 1B E5                   LDR     R3, [R11,#var_10]
.text:000104E4 01 30 43 E2                   SUB     R3, R3, #1
.text:000104E8 06 00 53 E3                   CMP     R3, #6                          ; switch 7 cases
.text:000104EC 03 F1 9F 97                   LDRLS   PC, [PC,R3,LSL#2]               ; switch jump
#在ARM指令集中，PC的值表示当前指令地址加8。
#使用寄存器 R3 的值，并对其进行逻辑左移位操作，左移 2 位 (LSL #2)。
#左移操作将 R3 的值左移两位，相当于乘以 4（因为左移 n 位相当于乘以 2 的 n 次方），得到偏移量。
#将当前 PC 寄存器的值与左移后的 R3 值相加，得到内存地址。 计算方式为：PC + (R3 &lt;&lt; 2)
#使用计算得到的内存地址，从该地址中加载一个 32 位的值。将加载的数据存储到 PC 寄存器中，这将导致程序跳转到新的地址，因为 PC 寄存器存储了下一条要执行的指令的地址。
#条件码 (LS):LDRLS 指令带有条件码 LS，表示仅在 N ^ V 为真时执行。
#具体来说，LS 条件码在 ARM 汇编中是指 “Lower or Same”，即无符号数比较结果低于或等于时成立。
#这意味着仅当无符号数比较结果小于或等于时，才会执行跳转加载指令的操作。
.text:000104EC
.text:000104F0 1B 00 00 EA                   B       def_104EC                       ; jumptable 000104EC default case
#这里B代表无条件跳转指令，跳转到def_104EC执行
.text:000104F0
.text:000104F0                               ; ---------------------------------------------------------------------------
.text:000104F4 10 05 01 00 1C 05 01 00 28 05+jpt_104EC DCD loc_10510                 ; jump table for switch statement
.text:000104F4 01 00 34 05 01 00 40 05 01 00+DCD loc_1051C
.text:000104F4 4C 05 01 00 58 05 01 00       DCD loc_10528
.text:000104F4                               DCD loc_10534
.text:000104F4                               DCD loc_10540
.text:000104F4                               DCD loc_1054C
.text:000104F4                               DCD loc_10558
.text:00010510                               ; ---------------------------------------------------------------------------
.text:00010510
.text:00010510                               loc_10510                               ; CODE XREF: main+64↑j
.text:00010510                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:00010510 68 00 9F E5                   LDR     R0, =s                          ; jumptable 000104EC case 0
.text:00010514 8D FF FF EB                   BL      puts
.text:00010514
.text:00010518 13 00 00 EA                   B       loc_1056C
.text:00010518
.text:0001051C                               ; ---------------------------------------------------------------------------
.text:0001051C
.text:0001051C                               loc_1051C                               ; CODE XREF: main+64↑j
.text:0001051C                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:0001051C 60 00 9F E5                   LDR     R0, =aTuesday                   ; jumptable 000104EC case 1
.text:00010520 8A FF FF EB                   BL      puts
.text:00010520
.text:00010524 10 00 00 EA                   B       loc_1056C
.text:00010524
.text:00010528                               ; ---------------------------------------------------------------------------
.text:00010528
.text:00010528                               loc_10528                               ; CODE XREF: main+64↑j
.text:00010528                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:00010528 58 00 9F E5                   LDR     R0, =aWednesday                 ; jumptable 000104EC case 2
.text:0001052C 87 FF FF EB                   BL      puts
.text:0001052C
.text:00010530 0D 00 00 EA                   B       loc_1056C
.text:00010530
.text:00010534                               ; ---------------------------------------------------------------------------
.text:00010534
.text:00010534                               loc_10534                               ; CODE XREF: main+64↑j
.text:00010534                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:00010534 50 00 9F E5                   LDR     R0, =aThursday                  ; jumptable 000104EC case 3
.text:00010538 84 FF FF EB                   BL      puts
.text:00010538
.text:0001053C 0A 00 00 EA                   B       loc_1056C
.text:0001053C
.text:00010540                               ; ---------------------------------------------------------------------------
.text:00010540
.text:00010540                               loc_10540                               ; CODE XREF: main+64↑j
.text:00010540                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:00010540 48 00 9F E5                   LDR     R0, =aFriday                    ; jumptable 000104EC case 4
.text:00010544 81 FF FF EB                   BL      puts
.text:00010544
.text:00010548 07 00 00 EA                   B       loc_1056C
.text:00010548
.text:0001054C                               ; ---------------------------------------------------------------------------
.text:0001054C
.text:0001054C                               loc_1054C                               ; CODE XREF: main+64↑j
.text:0001054C                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:0001054C 40 00 9F E5                   LDR     R0, =aSaturday                  ; jumptable 000104EC case 5
.text:00010550 7E FF FF EB                   BL      puts
.text:00010550
.text:00010554 04 00 00 EA                   B       loc_1056C
.text:00010554
.text:00010558                               ; ---------------------------------------------------------------------------
.text:00010558
.text:00010558                               loc_10558                               ; CODE XREF: main+64↑j
.text:00010558                                                                       ; DATA XREF: main:jpt_104EC↑o
.text:00010558 38 00 9F E5                   LDR     R0, =aSunday                    ; jumptable 000104EC case 6
.text:0001055C 7B FF FF EB                   BL      puts
.text:0001055C
.text:00010560 01 00 00 EA                   B       loc_1056C
.text:00010560
.text:00010564                               ; ---------------------------------------------------------------------------
.text:00010564
.text:00010564                               def_104EC                               ; CODE XREF: main+68↑j
.text:00010564 30 00 9F E5                   LDR     R0, =aRandomNumberGe            ; jumptable 000104EC default case
.text:00010568 78 FF FF EB                   BL      puts
.text:00010568
.text:0001056C
.text:0001056C                               loc_1056C                               ; CODE XREF: main+90↑j
.text:0001056C                                                                       ; main+9C↑j
.text:0001056C                                                                       ; main+A8↑j
.text:0001056C                                                                       ; main+B4↑j
.text:0001056C                                                                       ; main+C0↑j
.text:0001056C                                                                       ; main+CC↑j
.text:0001056C                                                                       ; main+D8↑j
.text:0001056C 00 30 A0 E3                   MOV     R3, #0
.text:00010570 03 00 A0 E1                   MOV     R0, R3
.text:00010574 08 D0 4B E2                   SUB     SP, R11, #8
.text:00010578 10 88 BD E8                   POP     {R4,R11,PC}
.text:00010578
.text:00010578                               ; End of function main
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<h6 id="switch-arm汇编跳表详解：" class="source-line" data-source-line="379">switch arm汇编跳表详解：<a class="vx-header-anchor" href="#switch-arm汇编跳表详解：" vx-data-anchor-icon="¶"></a></h6>
<p class="source-line" data-source-line="381">假设下面R3值范围为1 ~ 7或1~ ？</p>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="382">.text:000104E4 01 30 43 E2                   SUB     R3, R3, #1
text:000104E8 06 00 53 E3                   CMP     R3, #6                          ; switch 7 cases
.text:000104EC 03 F1 9F 97                   LDRLS   PC, [PC,R3,LSL#2]               ; switch jump
.text:000104EC
.text:000104F0 1B 00 00 EA                   B       def_104EC                       ; jumptable 000104EC default case
.text:000104F0
.text:000104F0                               ; ---------------------------------------------------------------------------
.text:000104F4 10  01 00 051C 05 01 00 28 05+jpt_104EC DCD loc_10510                 ; jump table for switch statement
.text:000104F4 01 00 34 05 01 00 40 05 01 00+DCD loc_1051C
.text:000104F4 4C 05 01 00 58 05 01 00       DCD loc_10528
.text:000104F4                               DCD loc_10534
.text:000104F4                               DCD loc_10540
.text:000104F4                               DCD loc_1054C
.text:000104F4                               DCD loc_10558
.text:00010510                               ; ---------------------------------------------------------------------------
.text:00010510
.text:00010510                               loc_10510
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
<ol>
<li class="source-line" data-source-line="401">
<p class="source-line" data-source-line="401">LDRLS PC, [PC,R3,LSL#2] 可以拆解成以下几个部分：<br>
LDRLS: 条件加载指令，在条件满足时（无符号比较小于等于，或溢出位被设置时）执行加载。<br>
PC: 程序计数器（Program Counter），在ARM汇编中，PC通常表示当前指令地址加8（由于流水线机制）。<br>
[PC,R3,LSL#2]: 这是一个基于PC的地址计算，其中R3的值左移2位后加到PC中。</p>
</li>
<li class="source-line" data-source-line="406">
<p class="source-line" data-source-line="406">PC值计算:<br>
在ARM指令集中，PC的值表示当前指令地址加8。<br>
指令 LDRLS PC, [PC,R3,LSL#2] 的地址是 0x000104EC。<br>
所以此时 PC 的值是 0x000104EC + 8 = 0x000104F4。</p>
</li>
<li class="source-line" data-source-line="411">
<p class="source-line" data-source-line="411">地址计算:<br>
[PC,R3,LSL#2] 表示从 PC 加上 R3 左移两位后的值。<br>
如果 R3 的值是0到6，那么 R3, LSL#2 的结果是 0x0 到 0x18（每个跳表项的大小为4字节，所以左移两位）。</p>
</li>
<li class="source-line" data-source-line="415">
<p class="source-line" data-source-line="415">跳表定位:<br>
跳表开始地址是 0x000104F4。<br>
加上 R3, LSL#2 的偏移后，范围是 0x000104F4 到 0x0001050C（对应的跳转地址为 0x000104F4 + 0x18）。</p>
</li>
<li class="source-line" data-source-line="419">
<p class="source-line" data-source-line="419">示例计算:<br>
如果 R3 = 2：<br>
计算偏移： R3, LSL#2 = 2 &lt;&lt; 2 = 8。<br>
跳转地址：[PC, R3, LSL#2] = 0x000104F4 + 0x8 = 0x000104FC。<br>
此地址在跳表中对应的值是 loc_1051C（位于 0x000104FC 处）</p>
</li>
</ol>
<div class="code-toolbar"><pre class="language-txt line-numbers"><code class="source-line language-txt" data-source-line="425">.text:000104E8 06 00 53 E3                   CMP     R3, #6                          ; 比较 R3 和 6
.text:000104EC 03 F1 9F 97                   LDRLS   PC, [PC,R3,LSL#2]               ; 根据条件加载跳转
.text:000104F0 1B 00 00 EA                   B       def_104EC                       ; 默认跳转
.text:000104F4 10 05 01 00 1C 05 01 00 28 05+jpt_104EC DCD loc_10510                 ; 跳表开始
.text:000104F4 01 00 34 05 01 00 40 05 01 00+DCD loc_1051C
.text:000104F4 4C 05 01 00 58 05 01 00       DCD loc_10528
.text:000104F4                               DCD loc_10534
.text:000104F4                               DCD loc_10540
.text:000104F4                               DCD loc_1054C
.text:000104F4                               DCD loc_10558
<span aria-hidden="true" class="line-numbers-rows"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></div>
</div>
        </div>
    </div>
    </div>

    <!-- VX_OUTLINE_BUTTON_START -->
    <div id="container-floating" style="display:none;" class="d-none d-md-block d-xl-block">
        <div id="floating-button" onclick="toggleMore()">
            <p id="floating-more" class="more">&gt;</p>
        </div>
    </div>
    <!-- VX_OUTLINE_BUTTON_END -->
</body>
</html>
